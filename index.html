<!DOCTYPE html>
<meta charset=utf-8>
<title id=ttle>Arbeitszeitrechner</title>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>

<body>
	<div id=wrapper1>
		<section id=part1>
			<div id=frame><a href=index.html id=logoclick>
					<header id=title>
						<h1>Arbeitszeitrechner</h1>
					</header>
				</a>
				<section id=form>
					<div class=table>
						<div class=tableRow>
							<p>Ankunftszeit<p><input id=arrival name=arrival placeholder=hhmm/hmm> <p><span id=arrivalhelp
										class=helptext></span>
						</div>
						<div class=tableRow>
							<p>Geplante Überstunden<p><input id=overtime name=overtime placeholder=(-)hhmm/(-)hmm/(-)mm>
										<p><span id=overtimehelp class=helptext></span>
						</div>
						<div class=tableRow>
							<p>Feierabend<p><input id=endtime name=endtime placeholder=hhmm/hmm> <p><span id=toolatewarninghelp
										class=helptext></span>
						</div>
						<div class=tableRow>
							<p>Arbeitszeit<p><input id=worktime name=worktime placeholder=hhmm/hmm> <p><span id=worktimehelp
										class=helptext></span>
						</div>
                        <div class=tableRow>
							<p>Pause<p><input id=pausetime name=pausetime placeholder=hhmm/hmm/mm> <p><span id=pausewarning
										class=helptext></span>
						</div>
					</div>
					<div class=tableRow id=backgroundControl>
						<div class=child>
							<label for="inputFileToLoad" class="custom-file-upload">
								Hintergrundbild wählen
							</label>
							<input id="inputFileToLoad" type="file"/>
						</div>
						<div>
							<select id=backgroundMode class="custom-file-upload child">
								<option value="auto">Auto</option>
								<option value="length">Length</option>
								<option value="cover">Cover</option>
								<option value="contain">Contain</option>
							</select>
							<select id=backgroundRepeat class="custom-file-upload child">
								<option value="no-repeat">No repeat</option>
								<option value="repeat">Repeat</option>
								<option value="repeat-x">Repeat-X</option>
								<option value="repeat-y">Repeat-Y</option>
							</select>
						</div>
						<button class="custom-file-upload child" id="resetBackground">Hintergrund zurücksetzen</button>
					</div>
					<p id=countdown>00:00:00<p id=overtimecounter></p></p>
                    <p><a href="mailto:timon.fischer@f-i.de?subject=Arbeitszeitrechner Bug-Meldung - Betreff nicht bearbeiten&body=[Bug Beschreibung]" id="reportBug">Bug melden</a></p>
				</section>
			</div><span id=progressbar></span>
			<div id=progressnumber><span id=percentnumber class=blur></span></div>
		</section>
	</div>
</body>

<script>
    // -------------- Default values ---------------
    const DEFAULT_WORK_TIME = getTotalMinutes("07:36")   	// 7,6h
    const MAX_WORK_TIME = getTotalMinutes("10:00")       	// 10h
    const MIN_PAUSE_6H = getTotalMinutes("00:30")        	// 30min
    const MIN_PAUSE_9H = getTotalMinutes("00:45")        	// 45min
    const LATEST_WORK_HOUR = getTotalMinutes("20:00")
    const EARLIEST_WORK_HOUR = getTotalMinutes("06:00")

    // -------------- Local Storage Keys ---------------
    const LS_ARRIVAL = "time_arrival"
    const LS_OVERTIME = "time_overtime"
    const LS_LAST_TIME_UPDATE = "time_lastUpdate"
    const LS_PAUSE = "time_pause"
    const LS_PAUSE_CHANGED = "time_pauseChanged"
    const LS_BACKGROUND_IMG = "background_base64"
    const LS_BACKGROUND_MODE = "background_mode"
    const LS_BACKGROUND_REPEAT = "background_repeat"
    
    // ------------------ HTML Elements ------------------
    const inputArrival = document.getElementById("arrival")
    const inputOvertime = document.getElementById("overtime")
    const inputPause = document.getElementById("pausetime")
    const inputEndtime = document.getElementById("endtime")
    const inputWorktime = document.getElementById("worktime")

    const inputBackgroundFile = document.getElementById("inputFileToLoad")
    const inputBackgroundMode = document.getElementById("backgroundMode")
    const inputBackgroundRepeat = document.getElementById("backgroundRepeat")
    const inputBackgroundReset = document.getElementById("resetBackground")

    const countdownElement = document.getElementById("countdown")
    const overtimeCounter = document.getElementById("overtimecounter")

    // ------------------ Event Listener ------------------
    window.addEventListener("load", onLoad)
    inputArrival.addEventListener("change", onChangeArrival)
    inputOvertime.addEventListener("change", onChangeOvertime)
    inputEndtime.addEventListener("change", onChangeEndtime)
    inputWorktime.addEventListener("change", onChangeWorktime)
    inputPause.addEventListener("change", onChangePause)

    inputBackgroundFile.addEventListener("change", encodeImageFileAsURL)
    inputBackgroundMode.addEventListener("change", backgroundModeChanged)
    inputBackgroundRepeat.addEventListener("change", backgroundModeChanged)
    inputBackgroundReset.addEventListener("click", resetBackground)

    // ------------------ OnLoad ------------------
    function onLoad() {
        const lastUpdate = localStorage.getItem(LS_LAST_TIME_UPDATE)
        
        pullBackground()
        
        if(lastUpdate == getISODate(new Date())) {
            const arrival = getDisplayedTime(localStorage.getItem(LS_ARRIVAL))
            const overtime = getDisplayedTime(localStorage.getItem(LS_OVERTIME))
            const pausetime = getDisplayedTime(localStorage.getItem(LS_PAUSE))
            
            if(arrival)
                inputArrival.value = `${arrival.hrs}:${arrival.min}`
            
            if(overtime)
                inputOvertime.value = `${overtime.prefix}${overtime.hrs}:${overtime.min}`
            
            if(pausetime && arrival)
                inputPause.value = `${pausetime.hrs}:${pausetime.min}`


            if(arrival) {
                updateEndtime()
                updateWorktime("overtime")
                startCountdown()
            }
        }
        else
            resetInputs(true)
    }

    // ------------------ Input ------------------
    function onChangeArrival() {
        const val = inputArrival.value

        if(((val.length >= 3 && val.length <= 4) || (val * 1 >= EARLIEST_WORK_HOUR / 60 && val * 1 < LATEST_WORK_HOUR / 60)) && !isNaN(val * 1)) {
            if(val && val * 1 != 0) {
                let convertedTime

                if(val.length >= 3)
                    convertedTime = convertInput(val, "min")
                else
                    convertedTime = convertInput(val, "hrs")

                localStorage.setItem(LS_ARRIVAL, getTotalMinutes(convertedTime))
                inputArrival.value = convertedTime
                
                updateLastChange()
                
                if(localStorage.getItem(LS_OVERTIME) > 0)
                    updateWorktime("overtime")
                else
                    updateWorktime("default")

                updatePausetime()
                updateEndtime()
            }
            else {
                resetInputs(false)
            }
        }
        else if(val == "")
            resetInputs(false)
    }

    function onChangeOvertime() {
        if(inputArrival.value != "" && inputOvertime.value * 1 != 0) {
            const convertedTime = convertInput(inputOvertime.value, "min")
            localStorage.setItem(LS_OVERTIME, getTotalMinutes(convertedTime))
            inputOvertime.value = convertedTime
        }
        else {
            inputOvertime.value = ``
            localStorage.setItem(LS_OVERTIME, 0)
        }
        
        if(inputArrival.value != "") {
            updateWorktime("overtime")
            updatePausetime()
            updateEndtime()
        }
    }

    function onChangePause() {
        const minTotalMinutes = getMinPausetime()

        if(inputArrival.value != "") {
            const minPausetime = getDisplayedTime(minTotalMinutes)
            
            if(inputPause.value * 1 <= 0) {
                localStorage.setItem(LS_PAUSE, minTotalMinutes)

                if(minTotalMinutes > 0)
                    inputPause.value = `${minPausetime.hrs}:${minPausetime.min}`
                else
                    inputPause.value = ``
            }
            else {
                const convertedTime = convertInput(inputPause.value, "min")
                const totalMinutes = getTotalMinutes(convertedTime)

                if(totalMinutes >= minTotalMinutes) {
                    localStorage.setItem(LS_PAUSE, totalMinutes)
                    inputPause.value = convertedTime
                }
                else {
                    localStorage.setItem(LS_PAUSE, minTotalMinutes)
                    inputPause.value = `${minPausetime.hrs}:${minPausetime.min}`
                }
            }
        }
        else {
            inputPause.value = ``
            localStorage.setItem(LS_PAUSE, 0)
        }

        if(localStorage.getItem(LS_PAUSE) > minTotalMinutes)
            localStorage.setItem(LS_PAUSE_CHANGED, true)
        else
            localStorage.setItem(LS_PAUSE_CHANGED, false)
            
        updateWorktime("endtime")
        updateOvertime()
    }

    function onChangeEndtime() {
        const val = inputEndtime.value

        if(inputArrival.value != "" && val * 1 != 0) {
            let convertedTime
            
            if(val.length >= 3)
                convertedTime = convertInput(val, "min")
            else
                convertedTime = convertInput(val, "hrs")

            inputEndtime.value = convertedTime
        }
        else {
            inputEndtime.value = ``
        }

        if(inputArrival.value != "") {
            updateWorktime("endtime")
            updateOvertime()
            updatePausetime()
            updateWorktime("endtime")
            startCountdown()
        }
    }

    function onChangeWorktime() {
        const val = inputWorktime.value

        if(inputArrival.value != "" && val * 1 != 0) {
            let convertedTime

            if(val.length >= 3)
                convertedTime = convertInput(val, "min")
            else
                convertedTime = convertInput(val, "hrs")

            inputWorktime.value = convertedTime
        }
        else {
            inputWorktime.value = ``
        }

        if(inputArrival.value != "") {
            updatePausetime()
            updateOvertime()
            updateEndtime()
        }
    }

    // ------------------ Input Update Calculations ------------------
    function updateEndtime() {
        const arrivalTime = localStorage.getItem(LS_ARRIVAL) * 1
        const overtimeTime = localStorage.getItem(LS_OVERTIME) * 1
        const pauseTime = localStorage.getItem(LS_PAUSE) * 1
        
        const endtime = arrivalTime + DEFAULT_WORK_TIME + overtimeTime + pauseTime

        const time = getDisplayedTime(endtime)
        inputEndtime.value = `${time.hrs}:${time.min}`

        startCountdown()
    }

    function updateWorktime(e) {        //e: "default" for default; "overtime" for calculation with overtime; "endtime" for calculation with endtime
        let worktime

        if(e == "endtime")
            worktime = getTotalMinutes(inputEndtime.value) - localStorage.getItem(LS_ARRIVAL) - localStorage.getItem(LS_PAUSE)
        else if(e == "overtime")
            worktime = DEFAULT_WORK_TIME + localStorage.getItem(LS_OVERTIME) * 1
        else
            worktime = DEFAULT_WORK_TIME

        const time = getDisplayedTime(worktime)
        inputWorktime.value = `${time.hrs}:${time.min}`
    }

    function updateOvertime() {
        const worktime = getTotalMinutes(inputWorktime.value)

        const overtime = worktime - DEFAULT_WORK_TIME
        localStorage.setItem(LS_OVERTIME, overtime)

        if(overtime != 0) {
            const time = getDisplayedTime(overtime)
            inputOvertime.value = `${time.prefix}${time.hrs}:${time.min}`
        }
        else
            inputOvertime.value = ``
    }

    function updatePausetime() {
        let pausetime = 0

        if(localStorage.getItem(LS_PAUSE_CHANGED) == "false") {
            pausetime = getMinPausetime()
            localStorage.setItem(LS_PAUSE, pausetime)
        }
        else
            pausetime = localStorage.getItem(LS_PAUSE)

        if(pausetime > 0) {
            const displayedPause = getDisplayedTime(pausetime)
            inputPause.value = `${displayedPause.hrs}:${displayedPause.min}`
        }
        else
            inputPause.value = ``
    }

    // ------------------ Services ------------------
    function getISODate(d) {
        return new Date(d).toISOString().split("T")[0]
    }

    function getISOTime(d) {
        return new Date(d).toLocaleTimeString()
    }

    function updateLastChange() {
        localStorage.setItem(LS_LAST_TIME_UPDATE, getISODate(new Date()))
    }

    function resetInputs(e) {       //e: true = reset pause too | false = don't reset pause
        inputArrival.value = ``
        inputOvertime.value = ``
        inputEndtime.value = ``
        inputWorktime.value = ``
        inputPause.value = ``

        localStorage.setItem(LS_ARRIVAL, 0)
        localStorage.setItem(LS_OVERTIME, 0)
        
        if(e || localStorage.getItem(LS_PAUSE_CHANGED) == "false") {
            localStorage.setItem(LS_PAUSE, 0)
            localStorage.setItem(LS_PAUSE_CHANGED, false)
        }

        clearInterval(timer)
        overtimeCounter.innerHTML = ``
        countdownElement.innerHTML = `00:00:00`
        document.title = `Arbeitszeitrechner`
    }

    function convertInput(str, e) {     //e: "min" = 1 or 2 digits is minutes | "hrs" = 1 or 2 digits is hours
        if(str) {
            if(e == "min") {
                let min = 0

                if(!str.includes(":")) {
                    let neg = false

                    if(str.startsWith("-")) {
                        str = str.slice(1)
                        neg = true
                    }

                    const s = str.split("")

                    if(s.length == 4)
                        min = ((s[0] + s[1]) * 60) + (s[2] + s[3]) * 1
                    else if(s.length == 3)
                        min = (s[0] * 60) + (s[1] + s[2]) * 1
                    else if(s.length == 2)
                        min = (s[0] + s[1]) * 1
                    else if(s.length == 1)
                        min = s[0] * 1

                    if(neg)
                        min *= -1
                }
                else {
                    min = getTotalMinutes(str)
                }

                const time = getDisplayedTime(min)
                
                return `${time.prefix}${time.hrs}:${time.min}`
            }
            else if(e == "hrs") {
                const value = str * 1

                return `${String(value).padStart(2, 0)}:00`
            }
        }
        else
            return ""
    }

    function getMinPausetime() {
        const worktime = getTotalMinutes(inputWorktime.value)
        let pausetime = 0

        if(worktime > 9 * 60)
            pausetime = MIN_PAUSE_9H
        else if(worktime > 6 * 60)
            pausetime = MIN_PAUSE_6H

        return pausetime
    }

    // ------------------ Background ------------------
    function pullBackground() {
        const img = localStorage.getItem(LS_BACKGROUND_IMG)
        const mode = localStorage.getItem(LS_BACKGROUND_MODE)
        const repeat = localStorage.getItem(LS_BACKGROUND_REPEAT)
        
        if (img)
            document.body.style.backgroundImage = `url('${img}')`
        
        if (img && mode) {
            document.body.style.backgroundSize = mode
            inputBackgroundMode.value = mode
            
            document.body.style.backgroundRepeat = repeat
            inputBackgroundRepeat.value = repeat
        }
    }

    function backgroundModeChanged() {
        localStorage.setItem(LS_BACKGROUND_MODE, inputBackgroundMode.value)
        localStorage.setItem(LS_BACKGROUND_REPEAT, inputBackgroundRepeat.value)
        
        pullBackground()
    }

    function resetBackground() {
        if(confirm(`Möchtest du wirklich den Hintergrund und die Einstellungen für diesen zurücksetzen?`)) {
            localStorage.removeItem(LS_BACKGROUND_IMG)
            localStorage.removeItem(LS_BACKGROUND_MODE)
            localStorage.removeItem(LS_BACKGROUND_REPEAT)
            
            location.reload()
        }
    }

    function encodeImageFileAsURL() {
        const file = inputBackgroundFile.files[0]
        
        if (!file) return

        const reader = new FileReader()
        
        reader.onload = e => {
            localStorage.setItem(LS_BACKGROUND_IMG, e.target.result)
            pullBackground()
        }
        
        reader.readAsDataURL(file)
    }

    // ------------------ Time ------------------
    function getTotalMinutes(t) {
        if(t) {
            let str
            let neg = false
            let min = 0
            
            str = t.split(`:`)

            if(str[0].startsWith("-")) {
                str[0] = str[0].slice(1)
                neg = true
            }

            for(let i = 0; i < str.length; i++)
                str[i] *= 1

            if(str.length == 1)
                min = str[0]
            else if(str.length == 2)
                min = (str[0] * 60) + str[1]

            
            if(neg)
                min *= -1

            return min
        }
        else
            return 0
    }

    function getDisplayedTime(min) {
        min *= 1

        if(min && min != 0) {
            let prefix = ``
            
            if(min < 0) {
                prefix = `-`
                min *= -1
            }
            
            const hours = Math.floor(min / 60)
            const minutes = min - (hours * 60)

            return {
                hrs: `${String(hours).padStart(2, `0`)}`,
                min: `${String(minutes).padStart(2, `0`)}`,
                prefix: `${prefix}`
            }
        }
    }

    function getTotalSeconds(t) {
        let str = t.split(":")
        let sec = 0

        for(let i = 0; i < str.length; i++)
            str[i] *= 1

        if(str[0] > 0)
            sec += str[0] * 3600

        if(str[1] > 0)
            sec += str[1] * 60

        if(str[2] > 0)
            sec += str[2]

        return sec
    }

    function getDisplayedTimeS(sec) {
        sec *= 1

        if(sec != 0) {
            let seconds
            let minutes = Math.floor(sec / 60)
            const hours = Math.floor(minutes / 60)

            if(minutes > 0)
                seconds = sec % (minutes * 60)
            else
                seconds = sec

            if(hours > 0)
                minutes = minutes % (hours * 60)

            return {
                hrs: `${String(hours).padStart(2, `0`)}`,
                min: `${String(minutes).padStart(2, `0`)}`,
                sec: `${String(seconds).padStart(2, `0`)}`
            }
        }
    }

    // ------------------ Timer ------------------
    let timer

    function startCountdown() {
        clearInterval(timer)
        
        const secsEndtime = getTotalMinutes(inputEndtime.value) * 60

        timer = setInterval(() => {
            const secsNow = getTotalSeconds(getISOTime(new Date()))

            const diff = secsEndtime - secsNow
            
            if(diff > 0) {
                const timeDiff = getDisplayedTimeS(diff)
                const showedString = `${timeDiff.hrs}:${timeDiff.min}:${timeDiff.sec}`
                countdownElement.innerHTML = showedString
                overtimeCounter.innerHTML = ``
                document.title = `${showedString} | Arbeitszeitrechner`
            }
            else {
                document.title = `Feierabend! | Arbeitszeitrechner`
                countdownElement.innerHTML = `Feierabend!`
                const timeDiff = getDisplayedTimeS(-diff)
                overtimeCounter.innerHTML = `Überstunden: ${timeDiff.hrs}:${timeDiff.min}:${timeDiff.sec}`
            }
        }, 1000)
    }

    // ------------------ Texts ------------------
    const HELP_TEXT_ARRIVAL = "Bitte im Format hhmm oder hmm eingeben.";
    const HELP_TEXT_OVERTIME = "Bitte im Format (-)hhmm, (-)hmm oder (-)mm eingeben.";
    const HELP_TEXT_PAUSE = "Bitte im Format hhmm, hmm oder mm eingeben.";
    const HELP_TEXT_TOO_MUCH_OVERTIME = "Mehr als 2:24h Überstunden sind nicht zulässig."//`Mehr als ${new Time(MAX_WORK_TIME - DEFAULT_WORK_TIME)}h Überstunden sind nicht zulässig.`;
    const HELP_TEXT_TOO_FEW_OVERTIME = "Mehr als 7:36h abzubauende Stunden sind nicht zulässig."//`Mehr als ${new Time(DEFAULT_WORK_TIME)}h abzubauende Stunden sind nicht zulässig.`;
    const HELP_TEXT_TOO_EARLY = "Vor 6:00 Uhr darf nicht begonnen werden.";
    const HELP_TEXT_TOO_LATE = "Es darf nicht länger als bis 20:00 Uhr gearbeitet werden.";
</script>

<style>
    :root {
        --red: #ee3e3e;
        --inputBack: rgba(255, 255, 255, 0.5);
    }

    body {
        font-family: Calibri, Helvetica, sans-serif;
		background-color: rgba(50, 50, 50, 1);
    }

    body,
    html {
        height: 100%;
        margin: 0;
    }

    #wrapper1 {
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center top;
        background-size: 100% 100%;
        margin: 0;
        padding: 0;
        position: absolute;
        width: 100%;
        height: 100%;
    }

    #part1 {
        background-color: rgba(0, 0, 0, 0);
        padding-top: 30px;
        margin: 0;
    }

    #part2 {
        font-family: "Open Sans";
        font-size: 150px;
        color: #eee;
        line-height: 1em;
        margin-top: -50px;
        padding: 0;
        height: 100%
    }

    #reportBug {
        font-size: 16px;
        text-align: center;
        margin-left: calc(50% - 38.7px);
    }
	
	#backgroundControl {
		display: grid;
		grid-template-columns: 0.95fr 1fr 0.95fr;
		width: 620px;
		height: 33px;
        margin-top: 2px;
	}
	
	#backgroundControl .child {
		width: 180px;
		text-align: center;
        margin-left: auto;
        margin-right: auto;
	}
	
	#backgroundControl select.child {
        height: 33px;
		text-align: center;
	}

    #backgroundControl select.child:first-child {
        width: 98px;
	}

    #backgroundControl select.child:last-child {
        width: 110px;
	}

    #resetBackground {
        color: #e50000;
    }
	
	input[type="file"] {
        display: none;
    }

    .custom-file-upload {
        border: 1px solid #000000;
		background-color: rgba(200, 200, 200, 0.5);
        display: inline-block;
        padding: 6px 12px;
        cursor: pointer;
    }

    @keyframes endarken {
        from {
            background-color: rgba(0, 0, 0, 0)
        }

        to {
            background-color: rgba(0, 0, 0, .6)
        }
    }

    @keyframes enlighten {
        from {
            background-color: rgba(255, 255, 255, .5)
        }

        to {
            background-color: rgba(255, 255, 255, .9)
        }
    }

    @keyframes pulse {
        from {
            color: rgba(255, 0, 0, 1)
        }

        33% {
            color: rgba(255, 0, 0, 1)
        }

        to {
            color: rgba(255, 0, 0, 0)
        }
    }

    .endarkenpart1 {
        animation: endarken 4s forwards
    }

    .enlightenframe {
        animation: enlighten 4s forwards
    }

    .pulse {
        animation: pulse 2s infinite alternate
    }

    #part2 {
        background-color: #333;
        height: 1000px
    }

    input {
        background-color: var(--inputBack);
        border: 0;
        padding: 6px;
        width: 290px;
        border-radius: 5px
    }

    input:focus,
    input:hover {
        padding: 5px;
        border: 1px solid rgba(255, 255, 255, .8);
        box-shadow: 0 0 5px rgba(255, 255, 255, .8) inset
    }

    #frame {
        width: 700px;
        margin-left: auto;
        margin-right: auto;
        border-radius: 50px;
        background-color: rgba(255, 255, 255, .5)
    }

    header#title {
        color: #3b3b3b;
        padding: 30px 10px 30px 10px;
        text-align: center;
        font-family: "Open Sans"
    }

    section {
        padding: 0 20px 20px 20px
    }

    #progressbar {
        position: absolute;
        top: 100%;
        right: 0;
        left: 0;
        box-shadow: 0 0 15px 10px rgba(255, 255, 255, 1);
        visibility: hidden
    }

    #percentnumber {
        position: absolute;
        top: 93%;
        left: 50%;
        right: 50%;
        color: rgba(255, 255, 255, .5);
        display: block;
        font-size: 36px;
        font-family: "Open Sans";
        font-weight: 300
    }

    .blur {
        text-shadow: 0 0 32px #900;
        color: transparent
    }

    .infobox {
        background-color: rgba(255, 255, 255, .5);
        border-radius: 2px;
        cursor: pointer;
        border: 1px solid #ccc;
        float: left;
        border-radius: 5px
    }

    #box1 {
        margin-right: -10% !important;
        margin-left: 85% !important;
        margin-top: -7% !important;
        padding-left: 7px !important;
        padding-right: 7px !important;
        padding-top: 2px !important;
        border-radius: 5px
    }

    #box2 {
        margin-right: -25% !important;
        margin-left: 90% !important;
        margin-top: -7% !important;
        padding-left: 5px !important;
        padding-right: 5px !important;
        padding-top: 2px !important;
        border-radius: 5px
    }

    #boxZWS {
        margin-right: -40% !important;
        margin-left: 80% !important;
        margin-top: -7% !important;
        padding-left: 5px !important;
        padding-right: 5px !important;
        padding-top: 2px !important
    }

    .info {
        font-family: "Courier New", monospace;
        font-size: 120%;
        color: #d00
    }

    .smalladvice {
        font-style: italic;
        line-height: 1.2em;
        font-size: 90%
    }

    .table {
        margin-top: 20px;
        display: table
    }

    .table:hover {
        max-height: 100px
    }

    .fadeOut {
        max-height: 0
    }

    .tableRow {
        display: table-row;
        height: 32px
    }

    .tableRow p {
        display: table-cell;
        vertical-align: top;
        padding: 3px
    }

    .tableRow p:first-child {
        text-align: right
    }

    .tableRow p:nth-child(2) {
        padding-left: 15px;
        width: 300px
    }

    h1 {
        font-size: 240%;
        padding: 0;
        margin: 0
    }

    h2 {
        padding: 0;
        margin: 0
    }

    a#logoclick {
        color: #3b3b3b;
        text-decoration: none
    }

    header#title {
        transition: background-color .2s ease-in
    }

    header#title:hover {
        background-color: rgba(230, 230, 230, .5)
    }

    footer#mainfooter {
        font-size: 70%;
        text-align: center
    }

    #countdown {
        font-size: 400%;
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        color: var(--red);
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        cursor: default
    }

    #overtimecounter {
        font-size: 150%;
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        color: var(--red);
        margin-left: auto;
        margin-right: auto;
        text-align: center;
        cursor: default
    }

    .helptext {
        margin-left: 20px;
        padding: 5px;
        font-size: 80%;
        color: red;
        float: left;
        position: absolute;
        border: 1px solid rgba(255, 255, 255, .8);
        box-shadow: 0 0 5px rgba(255, 255, 255, .8) inset;
        background-color: rgba(255, 255, 255, .3);
        border-radius: 5px
    }

    .helptextgreen {
        color: green !important;
        border: none !important;
        background-color: rgba(0, 0, 0, 0) !important;
        box-shadow: none !important
    }

    @keyframes scrollbg {
        from {
            background-position: center top
        }

        to {
            background-position: 50% 100%
        }
    }

    .stretchani {
        background-size: 100% 100000%
    }

    .scrollani {
        animation: scrollbg 10s infinite alternate linear
    }

    @keyframes drive {
        0% {
            margin-left: 33%;
            margin-top: 30px
        }

        12% {
            margin-left: 32.5%
        }

        25% {
            margin-left: 33.5%
        }

        37% {
            margin-left: 32%
        }

        50% {
            margin-left: 33%
        }

        62% {
            margin-left: 32%
        }

        75% {
            margin-left: 32.5%
        }

        87% {
            margin-left: 32%
        }

        100% {
            margin-left: 33%;
            margin-top: 20%
        }
    }

    @keyframes driveongoing {
        0% {
            margin-left: 33%;
            margin-top: 20%
        }

        12% {
            margin-left: 32.5%
        }

        25% {
            margin-left: 33.5%
        }

        37% {
            margin-left: 32%
        }

        50% {
            margin-left: 33%;
            margin-top: 20.3%
        }

        62% {
            margin-left: 32%
        }

        75% {
            margin-left: 32.5%
        }

        87% {
            margin-left: 32%
        }

        100% {
            margin-left: 33%;
            margin-top: 20%
        }
    }

    .driveani {
        animation: drive 1s forwards
    }

    .driveongoingani {
        animation: driveongoing .8s infinite
    }
</style>